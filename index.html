<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags -->
    <title>Mindful Breathe Timer | Interactive Breathing Exercises for Calm & Focus</title>
    <meta name="description" content="Find calm and improve focus with Mindful Breathe Timer, a free, gamified breathing exercise website. Choose from patterns like Box Breathing, 4-7-8, or create your own. Visually guided for deep relaxation.">
    <meta name="keywords" content="breathing exercises, meditation timer, box breathing, 4-7-8 breathing, mindfulness, stress relief, anxiety relief, focus, pranayama, guided breathing, breathing app">
    <meta name="author" content="Mindful Breathe Timer">

        <link rel="canonical" href="https://breathe.pokharelsabin.com.np" />
        <meta name="robots" content="index,follow" />
        <meta name="theme-color" content="#000000" />
        <link rel="manifest" href="/public/manifest.webmanifest" />
        <link rel="icon" type="image/svg+xml" href="/icon.svg" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png" />
        <meta property="og:title" content="Mindful Breathe Timer" />
        <meta property="og:description" content="Interactive breathing exercises (Box, 4-7-8, Custom) to reduce stress and improve focus." />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://breathe.pokharelsabin.com.np" />
        <meta property="og:image" content="https://breathe.pokharelsabin.com.np/public/og-image.png" />
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="Mindful Breathe Timer" />
        <meta name="twitter:description" content="Guided, visual breathing patterns to calm your mind." />
        <meta name="twitter:image" content="https://breathe.pokharelsabin.com.np/public/og-image.png" />
        <script type="application/ld+json">{
            "@context": "https://schema.org",
            "@type": "WebApplication",
            "name": "Mindful Breathe Timer",
            "description": "Guided breathing timer with visual animation and customizable patterns.",
            "applicationCategory": "HealthApplication",
            "operatingSystem": "Any",
            "url": "https://breathe.pokharelsabin.com.np/",
            "creator": {"@type": "Organization", "name": "Mindful Breathe"}
        }</script>
        <link rel="preload" href="/dist/style.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
        <noscript><link rel="stylesheet" href="/dist/style.css"></noscript>
</head>
<body class="bg-black bg-space text-slate-200 antialiased selection:bg-white/20 relative min-h-screen flex flex-col">
    <header class="w-full max-w-7xl mx-auto px-3 pt-4 pb-3 flex flex-col items-center text-center fade-in">
        <h1 class="text-2xl sm:text-3xl md:text-5xl font-semibold tracking-tight heading-gradient mb-2 drop-shadow-sm">Mindful Breath Timer</h1>
        <p class="text-xs sm:text-sm md:text-lg max-w-4xl text-slate-300 leading-relaxed px-2">Visual, science-backed breathing patterns to calm your nervous system, sharpen focus, and lower stress. Pick a pattern or craft your own — then follow the rising arc of your breath.</p>
    </header>

    <main class="flex-1 w-full max-w-7xl mx-auto px-3 pb-4 min-h-0">
        <div class="flex flex-col h-full">
            <!-- Timer Section -->
            <div class="flex-1 flex flex-col items-center justify-center min-h-0 py-4">
                <div class="w-full max-w-lg flex flex-col items-center gap-4 sm:gap-6 glass-panel px-4 sm:px-6 py-6 sm:py-8 relative overflow-hidden">
                    <div class="absolute inset-0 pointer-events-none opacity-40" aria-hidden="true" style="background: radial-gradient(circle at 50% 0%, rgba(255,255,255,0.1), transparent 70%);"></div>
                    
                    <div id="animationContainer" aria-label="Breathing animation" class="relative w-full h-32 sm:h-40 md:h-48 mx-auto">
                        <svg id="animationSvg" class="absolute inset-0" width="100%" height="100%" viewBox="0 0 300 150" role="img" aria-hidden="true" preserveAspectRatio="xMidYMid meet">
                            <defs>
                                <linearGradient id="mountainGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                    <stop offset="0%" stop-color="#000000" stop-opacity="0.8" />
                                    <stop offset="100%" stop-color="#000000" stop-opacity="1" />
                                </linearGradient>
                                <filter id="glow" x="-30%" y="-30%" width="160%" height="160%">
                                    <feGaussianBlur stdDeviation="4" result="coloredBlur" />
                                    <feMerge>
                                        <feMergeNode in="coloredBlur"/>
                                        <feMergeNode in="SourceGraphic"/>
                                    </feMerge>
                                </filter>
                            </defs>
                            <!-- Black mountain fill with background color -->
                            <path id="mountainFill" fill="none" />
                            <path id="mountainPath" stroke="#f1f5f9" stroke-width="2" fill="none" filter="url(#glow)" />
                        </svg>
                         <div id="ball" class="absolute w-4 h-4 sm:w-5 sm:h-5 bg-white rounded-full shadow-lg" style="filter: drop-shadow(0 0 8px rgba(255,255,255,0.8)); transition: none;"></div>
                     </div>
                    
                    <div class="flex flex-col items-center justify-center gap-2 text-center w-full">
                        <p id="statusText" class="text-xl sm:text-2xl md:text-3xl font-medium text-white transition-opacity duration-300 tracking-tight drop-shadow-lg">Select a pattern</p>
                        <p id="sessionTimer" class="text-base sm:text-lg text-slate-300 font-mono bg-slate-900/30 px-2 sm:px-3 py-1 rounded-md">00:00</p>
                        <p id="sessionSummary" class="text-xs sm:text-sm text-emerald-400 mt-1 px-2 text-center"></p>
                    </div>
                    
                    <div class="w-full flex flex-col items-center gap-3 sm:gap-4">
                        <!-- Enhanced Pattern Selection Dropdown -->
                        <div class="relative w-full max-w-sm group">
                            <select id="patternSelect" class="w-full bg-slate-800 border-2 border-slate-600 text-slate-100 text-sm sm:text-base rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 focus:bg-slate-700 hover:border-slate-500 hover:bg-slate-700 active:bg-slate-700 block p-3 sm:p-4 transition-all duration-200 appearance-none pr-10 sm:pr-12 shadow-xl font-medium cursor-pointer selection:bg-indigo-500">
                                <!-- Options will be populated dynamically by JavaScript -->
                            </select>
                            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 sm:px-4 text-slate-400 group-hover:text-slate-200 group-focus-within:text-indigo-300 transition-colors duration-200">
                                <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                            <!-- Focus glow effect -->
                            <div class="absolute inset-0 rounded-xl bg-indigo-500/20 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none -z-10 blur-sm scale-105"></div>
                        </div>
                        
                        <!-- Enhanced Custom Inputs -->
                        <div id="customInputs" class="hidden w-full max-w-sm grid-cols-4 gap-3 sm:gap-4">
                            <div class="flex flex-col space-y-2">
                                <label class="text-xs sm:text-sm font-medium text-emerald-300 tracking-wide flex items-center gap-1">
                                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
                                    Inhale
                                </label>
                                <div class="relative group">
                                    <input type="number" id="customInhale" value="4" min="1" max="30" class="custom-number-input" placeholder="4">
                                    <div class="absolute inset-0 rounded-lg bg-gradient-to-r from-emerald-500/10 to-green-500/10 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                                </div>
                            </div>
                            <div class="flex flex-col space-y-2">
                                <label class="text-xs sm:text-sm font-medium text-yellow-300 tracking-wide flex items-center gap-1">
                                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2h8a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 2a1 1 0 000 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path></svg>
                                    Hold
                                </label>
                                <div class="relative group">
                                    <input type="number" id="customHold1" value="4" min="0" max="30" class="custom-number-input" placeholder="0">
                                    <div class="absolute inset-0 rounded-lg bg-gradient-to-r from-yellow-500/10 to-amber-500/10 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                                </div>
                            </div>
                            <div class="flex flex-col space-y-2">
                                <label class="text-xs sm:text-sm font-medium text-blue-300 tracking-wide flex items-center gap-1">
                                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
                                    Exhale
                                </label>
                                <div class="relative group">
                                    <input type="number" id="customExhale" value="4" min="1" max="30" class="custom-number-input" placeholder="4">
                                    <div class="absolute inset-0 rounded-lg bg-gradient-to-r from-blue-500/10 to-cyan-500/10 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                                </div>
                            </div>
                            <div class="flex flex-col space-y-2">
                                <label class="text-xs sm:text-sm font-medium text-purple-300 tracking-wide flex items-center gap-1">
                                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2h8a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 2a1 1 0 000 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path></svg>
                                    Hold
                                </label>
                                <div class="relative group">
                                    <input type="number" id="customHold2" value="4" min="0" max="30" class="custom-number-input" placeholder="0">
                                    <div class="absolute inset-0 rounded-lg bg-gradient-to-r from-purple-500/10 to-pink-500/10 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Audio Controls -->
                        <div class="w-full max-w-sm bg-slate-900/30 border border-slate-600/50 rounded-lg p-3 space-y-3">
                            <div class="flex items-center justify-between text-sm text-slate-300">
                                <span>Audio Settings</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <label for="soundToggle" class="text-sm text-slate-300 flex items-center gap-2">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 14.142M7 18H5a2 2 0 01-2-2v-4a2 2 0 012-2h2l3.5-3.5a1 1 0 011.5.7v9.6a1 1 0 01-1.5.7L7 18z" />
                                    </svg>
                                    Bell Sounds
                                </label>
                                <button id="soundToggle" type="button" role="switch" aria-pressed="true" 
                                        class="active toggle-switch">
                                    <span class="toggle-thumb"></span>
                                </button>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <label for="whiteNoiseToggle" class="text-sm text-slate-300 flex items-center gap-2">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" />
                                    </svg>
                                    White Noise
                                </label>
                                <button id="whiteNoiseToggle" type="button" role="switch" aria-pressed="false" 
                                        class="toggle-switch">
                                    <span class="toggle-thumb"></span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex gap-3 sm:gap-4 w-full max-w-sm">
                            <button id="startStopBtn" class="flex-1 px-4 sm:px-6 py-2 sm:py-3 rounded-full font-semibold text-sm sm:text-base bg-gradient-to-r from-indigo-500 to-blue-500 text-white hover:from-indigo-600 hover:to-blue-600 active:scale-95 transition duration-150 shadow-lg shadow-indigo-500/20 flex items-center justify-center">
                                <span>Start</span>
                            </button>
                            <button id="shareBtn" type="button" class="px-3 sm:px-4 py-2 sm:py-3 rounded-full bg-slate-800/80 text-slate-200 text-xs sm:text-sm font-medium border border-slate-600/80 hover:bg-slate-700 backdrop-blur focus-ring transition flex items-center gap-1 sm:gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 sm:h-4 sm:w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
                                </svg>
                                <span class="hidden sm:inline">Share</span>
                            </button>
                        </div>
                    </div>
                    
                    <p class="text-xs text-slate-400 max-w-sm leading-relaxed bg-slate-900/30 p-2 rounded-md text-center">Disclaimer: This tool is for general mindfulness and stress reduction. Not a substitute for medical advice. If you feel dizzy or uncomfortable, pause and breathe normally.</p>
                </div>
            </div>

        </div>
    </main>

    <footer class="w-full border-t border-white/10 py-4 sm:py-6 px-3 sm:px-4 bg-black/60">
        <div class="max-w-3xl mx-auto text-center space-y-2 sm:space-y-3">
            <p class="text-xs sm:text-sm text-slate-300">Mindful Breathe • Free &amp; Open Source • © <span id="year"></span></p>

            <div class="flex items-center justify-center gap-2 flex-wrap">
                <a href="https://github.com/sapienskid" target="_blank" rel="noopener noreferrer"
                     class="text-xs text-slate-200 bg-slate-900/20 px-2 sm:px-3 py-1 rounded">GitHub</a>
                <a href="https://pokharelsabin.com.np" target="_blank" rel="noopener noreferrer"
                     class="text-xs text-slate-200 bg-slate-900/20 px-2 sm:px-3 py-1 rounded">Author</a>
            </div>

            <p class="text-xs text-slate-500">Not a substitute for medical advice. Stop if you feel unwell.</p>
        </div>

        <script>
            (function(){ const y = document.getElementById('year'); if(y) y.textContent = new Date().getFullYear(); })();
        </script>
    </footer>

    <!-- Local D3 build (copied to public/vendor during npm install) -->
    <script src="/public/vendor/d3.min.js"></script>
    <script src="/scripts/app.js" defer></script>
</body>
</html>